;;;; bb2-mode.el
;;;; Emacs major mode for ascii Blitz Basic II source code
;;;; Richard Dare
;;;; www.richardjdare.com

(defvar bb2-keywords nil "Blitz Basic II language keywords")
(setq bb2-keywords
      '("ABCD"
	"ACos"
	"ADD"
	"ADDValue"
	"ADDX"
	"AGABlue"
	"AGAFillPalette"
	"AGAGreen"
	"AGAPalBlue"
	"AGAPalGreen"
	"AGAPalRGB"
	"AGAPalRed"
	"AGARGB"
	"AGARed"
	"ALibJsr"
	"AMIGA"
	"AND"
	"ASL"
	"ASLFileRequest"
	"ASLFileRequest$"
	"ASLFontRequest"
	"ASLPathRequest$"
	"ASLScreenRequest"
	"ASLScreenRequest$"
	"ASR"
	"ASin"
	"ASyncFade"
	"ATan"
	"Abs"
	"Activate"
	"ActivateString"
	"ActiveWindow"
	"Activescreen"
	"AddAppIcon"
	"AddAppMenu"
	"AddAppWindow"
	"AddFirst"
	"AddItem"
	"AddLast"
	"AddIDCMP"
	"Addr"
	"AllFire"
	"AllocMem"
	"AnalyzeDisk"
	"AnimLoop"
	"AppEvent"
	"AppIconEvent"
	"AppIconFile"
	"AppIconHit"
	"AppMenuEvent"
	"AppMenuFile"
	"AppMenuHit"
	"AppWindowEvent"
	"AppWindowFile"
	"Asc"
	"AsmExit"
	"AttachGTList"
	"AutoCookie"
	"Avg"
	"Avg.L"
	"Avg.Q"
	"BBlit"
	"BBlitMode"
	"BCHG"
	"BCLR"
	"BLITZ"
	"BLibJsr"
	"BLoad"
	"BRA"
	"BSET"
	"BSave"
	"BTST"
	"Bank"
	"BankSize"
	"Bcc"
	"BeepScreen"
	"Bin#"
	"Bin$"
	"BitMap"
	"BitMapInput"
	"BitMapOrigin"
	"BitMapOutput"
	"BitMapToWindow"
	"BitMapWindow"
	"BitMapinput"
	"BitMaptoWindow"
	"BitPlanesBitMap"
	"Blit"
	"BlitColl"
	"BlitMode"
	"BlitzFont"
	"BlitzKeys"
	"BlitzQualifier"
	"BlitzRepeat"
	"Block"
	"BlockScroll"
	"Blue"
	"BorderPens"
	"Borders"
	"Box"
	"Boxf"
	"Buffer"
	"ButtonGroup"
	"ButtonId"
	"Buttonid"
	"CELSE"
	"CEND"
	"CERR"
	"CHK"
	"CLR"
	"CMP"
	"CMPA"
	"CMPI"
	"CMPM"
	"CNIF"
	"CSIF"
	"CacheOff"
	"CachePCF"
	"Call"
	"Case"
	"CaseSense"
	"CatchDosErrs"
	"Centre$"
	"ChDir"
	"CharCount"
	"CheckAGA"
	"CheckPrt"
	"Checksum"
	"ChipFree"
	"Chr$"
	"ChunkHeader"
	"ChunkyToPlanar"
	"Cipher$"
	"Circle"
	"Circlef"
	"ClearBitmap"
	"ClearList"
	"ClearRexxMsg"
	"ClearString"
	"ClearToolTypes"
	"ClickButton"
	"ClickMouse"
	"ClipBlit"
	"ClipBlitMode"
	"CloseConsole"
	"CloseDisk"
	"CloseEd"
	"CloseFile"
	"CloseScreen"
	"CloseSerial"
	"CloseWindow"
	"ClrErr"
	"ClrInt"
	"Cls"
	"CludgeBitMap"
	"CludgeShapes"
	"CludgeSound"
	"ColSplit"
	"Colour"
	"ColourRequest"
	"CommoditiesBase"
	"CommodityEvent"
	"Con_Base"
	"CookieMode"
	"CopLen"
	"CopLoc"
	"CopyBitMap"
	"CopyByte"
	"CopyFile"
	"CopyLong"
	"CopyShape"
	"CopyWord"
	"Cos"
	"CrMDecrunch"
	"CreateArgString"
	"CreateDisplay"
	"CreateMsgPort"
	"CreateRexxMsg"
	"CursX"
	"CursY"
	"Cursor"
	"CustomChunkySize"
	"CustomColors"
	"CustomCop"
	"CustomSprites"
	"CustomString"
	"Cvi"
	"Cvl"
	"Cvq"
	"CxAppear"
	"CxChangeList"
	"CxDisAppear"
	"CxDisable"
	"CxEnable"
	"CxKill"
	"CxUnique"
	"Cycle"
	"CyclePalette"
	"DBcc"
	"DCB"
	"DEFTYPE"
	"DIVS"
	"DIVU"
	"Data"
	"Date$"
	"DateFormat"
	"Days"
	"Dcb"
	"DeIce"
	"DecodeILBM"
	"DecodeMedModule"
	"DecodePalette"
	"DecodeShapes"
	"DecodeSound"
	"Decrypt"
	"Default"
	"DefaultInput"
	"DefaultOutput"
	"Defaultinput"
	"DefaultlDCMP"
	"DelAppIcon"
	"DelAppMenu"
	"DelAppWindow"
	"DeleteArgString"
	"DeleteMsgPort"
	"DeleteRexxMsg"
	"Deplode"
	"Depth"
	"Derez"
	"Dim"
	"Disable"
	"DiskBlocks"
	"DiskBuffer"
	"DiskCapacity"
	"DiskErrs"
	"DiskFree"
	"DiskPlay"
	"DiskUnit"
	"DiskUsed"
	"DiskfontBase"
	"DispHeight"
	"Display"
	"DisplayAdjust"
	"DisplayBitMap"
	"DisplayBitmap"
	"DisplayControls"
	"DisplayDblScan"
	"DisplayPalette"
	"DisplayRGB"
	"DisplayRainbow"
	"DisplayScroll"
	"DisplaySprite"
	"DisplayUser"
	"DoColl"
	"DoFade"
	"DosBase"
	"DosBuffLen"
	"Dos_Base"
	"DuplicatePalette"
	"EMouseX"
	"EMouseY"
	"EOR"
	"EORI"
	"EVEN"
	"EXG"
	"EXT"
	"EasyRequest"
	"Edit"
	"Edit$"
	"EditExit"
	"EditFrom"
	"Editat"
	"Else"
	"Enable"
	"Encrypt"
	"End"
	"End Function"
	"End Setint"
	"End Statement"
	"EndIf"
	"EntryBits$"
	"EntryComment$"
	"EntryDate"
	"EntryDir"
	"EntryHour"
	"EntryMins"
	"EntryName$"
	"EntrySecs"
	"EntrySize"
	"Eof"
	"Erase"
	"EraseAll"
	"EraseMode"
	"ErrFail"
	"Even"
	"Event"
	"EventCode"
	"EventQualifier"
	"EventWindow"
	"Exchange"
	"ExchangeAppear"
	"ExchangeChangeList"
	"ExchangeDisAble"
	"ExchangeDisAppear"
	"ExchangeEnable"
	"ExchangeKill"
	"ExchangeMessage"
	"ExchangeUnique"
	"ExecVersion"
	"Exists"
	"Exp"
	"FFPBase"
	"FNSClip"
	"FNSClipOutput"
	"FNSHeight"
	"FNSInk"
	"FNSLength"
	"FNSLoad"
	"FNSOrigin"
	"FNSOutput"
	"FNSPrefs"
	"FNSPrint"
	"FNSSetTab"
	"FNSSlot"
	"FNSUnLoad"
	"FNSUnderline"
	"FNSVersion"
	"FNSWidth"
	"FadeIn"
	"FadeInBitmap"
	"FadeOut"
	"FadePalette"
	"FadeStatus"
	"False"
	"FastFree"
	"Fields"
	"FileFilter"
	"FileInput"
	"FileOutput"
	"FileReqSize"
	"FileRequest$"
	"FileSeek"
	"FileSize"
	"FileStructure"
	"FillMem"
	"FillPalette"
	"FillRexxMsg"
	"Filter"
	"FindScreen"
	"FindToolNumber"
	"FindToolType"
	"FindToolValue"
	"FirstItem"
	"Firstitem"
	"FloatMode"
	"FloodFill"
	"FlushBuffer"
	"FlushEvents"
	"FlushQueue"
	"For"
	"ForceNTSC"
	"ForcePAL"
	"Forever"
	"Format"
	"FormatTrack"
	"Frac"
	"Frames"
	"Free"
	"FreeBank"
	"FreeCatalog"
	"FreeFill"
	"FreeIconObject"
	"FreeIncData"
	"FreeMacroKey"
	"FreeMem"
	"FreePCFCache"
	"FreeSlices"
	"FreeZoneTable"
	"Freq"
	"FromCLI"
	"Function"
	"GTArrowSize"
	"GTBevelBox"
	"GTButton"
	"GTChangeList"
	"GTCheckBox"
	"GTCycle"
	"GTDisable"
	"GTEnable"
	"GTGadPtr"
	"GTGetAttrs"
	"GTGetInteger"
	"GTGetString"
	"GTGetinteger"
	"GTListView"
	"GTMX"
	"GTNumber"
	"GTPalette"
	"GTScroller"
	"GTSetAttrs"
	"GTSetInteger"
	"GTSetString"
	"GTSetinteger"
	"GTShape"
	"GTSlider"
	"GTStatus"
	"GTString"
	"GTTags"
	"GTText"
	"GTToggle"
	"GTInteger"
	"GadgetBorder"
	"GadgetHit"
	"GadgetJam"
	"GadgetPens"
	"GadgetStatus"
	"GadgetStatus"
	"GameB"
	"Gameb"
	"Get"
	"GetIconInfo"
	"GetIconObject"
	"GetLocaleStr"
	"GetMedInstr"
	"GetMedNote"
	"GetMedVolume"
	"GetMedinstr"
	"GetReg"
	"GetResultString"
	"GetRexxCommand"
	"GetRexxResult"
	"GetString$"
	"GetSuperBitMap"
	"GetSuperBitmap"
	"GetWheel"
	"GetaShape"
	"GetaSprite"
	"Gfx_Base"
	"Gosub"
	"Goto"
	"GraphicsBase"
	"Green"
	"HCos"
	"HPropBody"
	"HPropPot"
	"HSin"
	"HTan"
	"Handle"
	"HardCopy"
	"Hex$"
	"HideScreen"
	"HotKeyHit"
	"Hours"
	"ILBMDepth"
	"ILBMGrab"
	"ILBMHeight"
	"ILBMInfo"
	"ILBMPalette"
	"ILBMViewMode"
	"ILBMWidth"
	"ILLEGAL"
	"INCBIN"
	"INCDIR"
	"INCLUDE"
	"IconBase"
	"IconDefTool$"
	"IconDefaultTool"
	"IconRender"
	"IconStack"
	"IconSubTool$"
	"IconTool$"
	"IconType"
	"If"
	"Implode"
	"InFront"
	"InFrontB"
	"InFrontF"
	"IncBin"
	"IncBitmap"
	"IncData"
	"IncDataAbs"
	"IncMed"
	"IncMod"
	"IncNextShape"
	"IncShape"
	"IncSize"
	"IncSound"
	"IncText$"
	"InitAnim"
	"InitBank"
	"InitCopList"
	"InitPalette"
	"InitShape"
	"InitSound"
	"InitZoomXY"
	"Inkey$"
	"InnerCls"
	"InnerHeight"
	"InnerWidth"
	"InstallFNS"
	"Instr"
	"Int"
	"Int_Base"
	"IntuitionBase"
	"InvMode"
	"IsEven"
	"IsLocale"
	"IsReqtoolsActive"
	"IsRexxMsg"
	"ItemHit"
	"ItemStackSize"
	"JFire"
	"JHoriz"
	"JMP"
	"JSR"
	"JVert"
	"JoYY"
	"JoyC"
	"Joyb"
	"Joyr"
	"Joyx"
	"Joyy"
	"JumpMed"
	"KeyCode"
	"KillFile"
	"KillItem"
	"LCase$"
	"LEA"
	"LINK"
	"LSL"
	"LSR"
	"LSet$"
	"Largest"
	"Largest.l"
	"Largest.q"
	"LargestFree"
	"LastItem"
	"Lastitem"
	"Left$"
	"Len"
	"Length"
	"Let"
	"Line"
	"Lisa"
	"List"
	"LoadAnim"
	"LoadBank"
	"LoadBitMap"
	"LoadBlitzFont"
	"LoadFont"
	"LoadIFF"
	"LoadMedModule"
	"LoadModule"
	"LoadPCF"
	"LoadPalette"
	"LoadScreen"
	"LoadShape"
	"LoadShapes"
	"LoadSound"
	"LoadSprites"
	"LoadTape"
	"Loc"
	"Locate"
	"Lof"
	"Log"
	"Log10"
	"LoopSound"
	"MButtons"
	"MOVE"
	"MOVEA"
	"MOVEM"
	"MOVEQ"
	"MOVEP"
	"MULS"
	"MULU"
	"Macro"
	"MacroKey"
	"MakeCommodity"
	"MakeCookie"
	"MakeDir"
	"MatchToolValue"
	"Max"
	"MaxLen"
	"Maximum"
	"MemFree"
	"MenuChecked"
	"MenuColour"
	"MenuGap"
	"MenuHit"
	"MenuItem"
	"MenuState"
	"MenuTitle"
	"Menus"
	"Mid$"
	"MidHandle"
	"Min"
	"Mins"
	"Mki$"
	"Mkl$"
	"Mkq$"
	"Module"
	"Months"
	"MoreEntries"
	"MotorOff"
	"MotorOn"
	"Mouse"
	"MouseArea"
	"MouseButton"
	"MouseWait"
	"MouseX"
	"MouseXSpeed"
	"MouseY"
	"MouseYSpeed"
	"MoveScreen"
	"NBCD"
	"NEG"
	"NEGX"
	"NEWTYPE"
	"NOP"
	"NOT"
	"NPrint"
	"NPrintCon"
	"NTSC"
	"NameFile"
	"NewPaletteMode"
	"NewToolType"
	"NewZoneTable"
	"Next"
	"NextBank"
	"NextFile$"
	"NextFrame"
	"NextItem"
	"Nextitem"
	"NoCli"
	"Null"
	"NumDays"
	"NumPars"
	"OR"
	"ORI"
	"On"
	"OpenConsole"
	"OpenDisk"
	"OpenFile"
	"OpenSerial"
	"PCFDepth"
	"PCFHeight"
	"PCFInfo"
	"PCFVersion"
	"PCFWidth"
	"PColl"
	"PEA"
	"PLoad"
	"PPDecrunch"
	"PalAdjust"
	"PalBlue"
	"PalGreen"
	"PalRGB"
	"PalRed"
	"Palette"
	"PaletteInfo"
	"PaletteRange"
	"Par$"
	"ParPath$"
	"PathLock"
	"Peek"
	"PeekSound"
	"Peeks$"
	"Peekto$"
	"PhoneticSpeak"
	"Pi"
	"PlanarToChunky"
	"PlayBack"
	"PlayMed"
	"PlayModule"
	"PlayWait"
	"Plot"
	"Point"
	"Pointer"
	"Poke"
	"Poly"
	"Polyf"
	"Pop"
	"PopInput"
	"PopItem"
	"PopOutput"
	"Popinput"
	"Popitem"
	"PositionSuperBitMap"
	"PositionSuperBitmap"
	"PrevItem"
	"Previtem"
	"Print"
	"PrintCon"
	"Processor"
	"PropGadget"
	"PrtCommand"
	"PrtText"
	"PushItem"
	"Pushitem"
	"Put"
	"PutIconObject"
	"PutReg"
	"PutSuperBitMap"
	"PutSuperBitmap"
	"QAMIGA"
	"QAbs"
	"QAngle"
	"QBlit"
	"QBlitMode"
	"QFrac"
	"QLimit"
	"QWrap"
	"Qualifier"
	"Queue"
	"QuickPlay"
	"Quiet"
	"QuietTrap"
	"RESET"
	"RGB"
	"RIAnimInit"
	"RINextAnimFrame"
	"ROL"
	"ROR"
	"ROXL"
	"ROXR"
	"RSet$"
	"RTASyncPaletteRequest"
	"RTASyncRequest"
	"RTCheckASyncPaletteRequest"
	"RTCheckASyncRequest"
	"RTE"
	"RTEZFlagsRequest"
	"RTEZFontRequest"
	"RTEZFreePattern"
	"RTEZGetLong"
	"RTEZGetLongRange"
	"RTEZGetString"
	"RTEZLoadFile"
	"RTEZMultiLoadFile"
	"RTEZPaletteRequest"
	"RTEZPathRequest"
	"RTEZRNextPathEntry"
	"RTNextPathEntry"
	"RTEZRequest"
	"RTEZSaveFile"
	"RTEZScreenModeRequest"
	"RTEZSetDefaultDirectory"
	"RTEZSetPattern"
	"RTEndASyncPaletteRequest"
	"RTEndASyncRequest"
	"RTFileRequest"
	"RTLockWindow"
	"RTR"
	"RTRequest"
	"RTRevision"
	"RTS"
	"RTUnlockWindow"
	"RTVersion"
	"RastPort"
	"RawKey"
	"RawStatus"
	"ReMap"
	"Read"
	"ReadFile"
	"ReadMem"
	"ReadSector"
	"ReadSerial"
	"ReadSerialMem"
	"ReadSerialString"
	"Reboot"
	"Record"
	"RectsHit"
	"Red"
	"Redraw"
	"ReduceX2"
	"RelMouse"
	"RemoveFNS"
	"Rename"
	"Repeat"
	"Repeats"
	"Replace$"
	"ReplyRexxMsg"
	"ReqColours"
	"ReqFileLoc"
	"ReqFileRequest"
	"ReqFileRequest$"
	"ReqFontSize"
	"ReqOutput"
	"Req_Base"
	"Request"
	"Reserve"
	"ResetList"
	"ResetString"
	"ResetTimer"
	"Restore"
	"Return"
	"Rex_Base"
	"RexxError"
	"RexxError("
	"RexxEvent"
	"RexxsysBase"
	"Right$"
	"Rnd"
	"Rotate"
	"Rrandomize"
	"Rrnd"
	"Runerrsoff"
	"Runerrson"
	"SBCD"
	"SBlit"
	"SBlitMode"
	"SColl"
	"SHARED"
	"SMouseX"
	"SMouseY"
	"STOP"
	"SUB"
	"SUBA"
	"SUBI"
	"SUBQ"
	"SUBX"
	"SWAP"
	"SaveBank"
	"SaveBitmap"
	"SaveIncData"
	"SavePalette"
	"SaveScreen"
	"SaveShape"
	"SaveShapes"
	"SaveSprites"
	"SaveTape"
	"Scale"
	"Scc"
	"Screen"
	"ScreenHeight"
	"ScreenPens"
	"ScreenTags"
	"ScreenWidth"
	"ScreensBitMap"
	"Scroll"
	"SearchBegin"
	"SearchEnd"
	"SearchString"
	"Secs"
	"Select"
	"SelectMode"
	"SendRexxCommand"
	"SerialEvent"
	"SetBPLCON0"
	"SetColl"
	"SetCollHi"
	"SetCollOdd"
	"SetCopyBuffer"
	"SetCycle"
	"SetErr"
	"SetGadgetStatus"
	"SetHProp"
	"SetHotKey"
	"SetIconHit"
	"SetIconType"
	"SetInt"
	"SetMedMask"
	"SetMedVolume"
	"SetMenu"
	"SetPeriod"
	"SetSerialBuffer"
	"SetSerialLens"
	"SetSerialParams"
	"SetStatus"
	"SetString"
	"SetToolValue"
	"SetVProp"
	"SetVoice"
	"Setzone"
	"Sgn"
	"Shape"
	"ShapeGadget"
	"ShapeHeight"
	"ShapeItem"
	"ShapeSpriteHit"
	"ShapeSub"
	"ShapeToIcon"
	"ShapeWidth"
	"ShapesBitMap"
	"ShapesHit"
	"Shared"
	"Show"
	"ShowB"
	"ShowBitMap"
	"ShowBitmap"
	"ShowBlitz"
	"ShowF"
	"ShowPalette"
	"ShowRequesters"
	"ShowScreen"
	"ShowSprite"
	"ShowStencil"
	"Sin"
	"SizeLimits"
	"SizeOf"
	"Slice"
	"Smallest"
	"Smallest.l"
	"Smallest.q"
	"SolidMode"
	"Sort"
	"SortDown"
	"SortList"
	"SortUp"
	"Sound"
	"SoundData"
	"Space$"
	"Speak"
	"SpriteMode"
	"SpritesHit"
	"Sqr"
	"Start"
	"StartMedModule"
	"Statement"
	"Stencil"
	"Stop"
	"StopCycle"
	"StopMed"
	"StopModule"
	"Str$"
	"String$"
	"StringGadget"
	"StringText$"
	"StripLead$"
	"StripTrail$"
	"SubHit"
	"SubIDCMP"
	"SubItem"
	"SubItemOff"
	"Subitem"
	"SubitemOff"
	"SysJsr"
	"SystemDate"
	"TAS"
	"TRAP"
	"TRAPV"
	"TST"
	"Tan"
	"TapeTrap"
	"TextGadget"
	"TextRequest"
	"TextTimeout"
	"Then"
	"Ticks"
	"Timer"
	"To"
	"Toggle"
	"TokeJsr"
	"Translate$"
	"True"
	"Type"
	"UCase$"
	"UNLK"
	"USED"
	"USEPATH"
	"UStr$"
	"UnBuffer"
	"UnLeft$"
	"UnQueue"
	"UnRight$"
	"UnpackIFF"
	"UnpackPCF"
	"Until"
	"Use"
	"Use Bitmap"
	"UseCatalog"
	"UseZoneTable"
	"Used"
	"VPos"
	"VPropBody"
	"VPropPot"
	"VWait"
	"Val"
	"ViewPort"
	"VoiceLoc"
	"Volume"
	"Vpos"
	"VwaitPos"
	"WBDepth"
	"WBHeight"
	"WBStartup"
	"WBViewMode"
	"WBWidth"
	"WBlit"
	"WBox"
	"WCircle"
	"WCls"
	"WColour"
	"WCursX"
	"WCursY"
	"WEllipse"
	"WJam"
	"WLeftOff"
	"WLine"
	"WLocate"
	"WMouseX"
	"WMouseY"
	"WMove"
	"WPlot"
	"WPointer"
	"WPrintScroll"
	"WScroll"
	"WSize"
	"WTitle"
	"WTopOff"
	"Wait"
	"WaitEvent"
	"WaitFor"
	"WbToScreen"
	"WeekDay"
	"Wend"
	"While"
	"Window"
	"WindowFont"
	"WindowHeight"
	"WindowInput"
	"WindowOutput"
	"WindowTags"
	"WindowWidth"
	"WindowX"
	"WindowY"
	"Wline"
	"WriteBoot"
	"WriteFile"
	"WriteMem"
	"WriteSector"
	"WriteSerial"
	"WriteSerialMem"
	"WriteSerialString"
	"XFlip"
	"XINCLUDE"
	"XOR"
	"XStatus"
	"Xor"
	"YFlip"
	"Years"
	"Zone"
	"ZoneInit"
	"ZoneTable"
	"ZoneTableSize"
	"ZoneTest"
	"ZoomX2"
	"ZoomX4"
	"ZoomX8"
	"ZoomXY"))

(defconst bb2-mode-syntax-table
  (let ((table (make-syntax-table)))
    ;; ' is a string delimiter
    (modify-syntax-entry ?' "\"" table)
    ;; " is a string delimiter
    (modify-syntax-entry ?\" "\"" table)
    ;; ; is a comment start
    (modify-syntax-entry ?\; "<" table)
    ;; /n is a comment end
    (modify-syntax-entry ?\n ">" table)
    ;;underscore is part of a word
    (modify-syntax-entry ?_ "w" table)
    ;; $ is part of a word
    (modify-syntax-entry ?\$ "w" table)
    table))

(defvar bb2-keywords-regexp nil)
(setq bb2-keywords-regexp (regexp-opt bb2-keywords 'words))

;; constants- ie. #something_like_this
(defvar bb2-const-regexp nil "regular expression for bb2 constants")
(setq bb2-const-regexp "#\\w+")

;; types, ie .w .l .q string$ .newtype
(defvar bb2-types-regexp nil "regular expression for bb2 types")
(setq bb2-types-regexp "\\$\\|\\.[a-zA-Z_]+")

(defvar bb2-highlights nil)
(setq bb2-highlights
      `((,bb2-const-regexp . font-lock-constant-face)
	(,bb2-types-regexp . font-lock-type-face)
	(,bb2-keywords-regexp . font-lock-keyword-face)))

;; font-lock-defaults last param sets case-insensitivity
(define-derived-mode bb2-mode prog-mode "bb2"
  "Major mode for Blitz Basic II code"
  :syntax-table bb2-mode-syntax-table
  (setq font-lock-defaults '((bb2-highlights) nil t))
  (font-lock-fontify-buffer))
 
(provide 'bb2-mode)
